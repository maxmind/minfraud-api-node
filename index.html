<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@maxmind/minfraud-api-node</title><meta name="description" content="Documentation for @maxmind/minfraud-api-node"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@maxmind/minfraud-api-node</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@maxmind/minfraud-api-node</h1></div><div class="tsd-panel tsd-typography"><h1 id="nodejs-api-for-maxmind-minfraud" class="tsd-anchor-link">Node.js API for MaxMind minFraud<a href="#nodejs-api-for-maxmind-minfraud" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="description" class="tsd-anchor-link">Description<a href="#description" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This package provides a server-side API for the <a href="https://dev.maxmind.com/minfraud/">MaxMind minFraud Score,
Insights, Factors, and Report Transaction web
services</a>.</p>
<p><strong>This package will not work client-side.</strong></p>
<h2 id="requirements" class="tsd-anchor-link">Requirements<a href="#requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MaxMind has tested this API with Node.js versions 18 and 20. We aim to support
active or maintained LTS versions of Node.js.</p>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> @</span><span class="hl-0">maxmind</span><span class="hl-1">/</span><span class="hl-0">minfraud</span><span class="hl-1">-</span><span class="hl-0">api</span><span class="hl-1">-</span><span class="hl-0">node</span>
</code><button>Copy</button></pre>

<p>You can also use <code>yarn</code> or <code>pnpm</code>.</p>
<h2 id="api-documentation" class="tsd-anchor-link">API Documentation<a href="#api-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Documentation for this API can be found <a href="https://maxmind.github.io/minfraud-api-node/">here</a></p>
<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To use this API, first create a new <code>Client</code> object. The constructor
takes your MaxMind account ID and license key. For example:</p>
<pre><code class="js"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">client</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Client</span><span class="hl-1">(</span><span class="hl-5">&quot;1234&quot;</span><span class="hl-1">, </span><span class="hl-5">&quot;LICENSEKEY&quot;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>If you would like to use the Sandbox environment, you can
set the <code>host</code> parameter to <code>sandbox.maxmind.com</code>:</p>
<pre><code class="js"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">client</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Client</span><span class="hl-1">(</span><span class="hl-5">&quot;1234&quot;</span><span class="hl-1">, </span><span class="hl-5">&quot;LICENSEKEY&quot;</span><span class="hl-1">, </span><span class="hl-6">3000</span><span class="hl-1">, </span><span class="hl-5">&#39;sandbox.maxmind.com&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Then create a new <code>Transaction</code> object. This represents the transaction that
you are sending to minFraud. Each transaction property is instantiated by creating
a new instance of each property's class. For example:</p>
<pre><code class="js"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">transaction</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Transaction</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">device:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">ipAddress:</span><span class="hl-1"> </span><span class="hl-5">&#39;81.2.69.160&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">  </span><span class="hl-0">email:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Email</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">address:</span><span class="hl-1"> </span><span class="hl-5">&#39;foo@bar.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">domain:</span><span class="hl-1"> </span><span class="hl-5">&#39;bar.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>If Transaction instantiation fails, an <code>ArgumentError</code> is thrown. This is usually
due to invalid property values.</p>
<p>After creating the Transaction object, you can send a Score, Insights, or Factors
request, which returns a Promise that contains the corresponding model:</p>
<pre><code class="js"><span class="hl-7">// minFraud Score</span><br/><span class="hl-0">client</span><span class="hl-1">.</span><span class="hl-4">score</span><span class="hl-1">(</span><span class="hl-0">transaction</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">scoreResponse</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> ...);</span><br/><br/><span class="hl-7">// minFraud Insights</span><br/><span class="hl-0">client</span><span class="hl-1">.</span><span class="hl-4">insights</span><span class="hl-1">(</span><span class="hl-0">transaction</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">insightsResponse</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> ...);</span><br/><br/><span class="hl-7">// minFraud Factors</span><br/><span class="hl-0">client</span><span class="hl-1">.</span><span class="hl-4">factors</span><span class="hl-1">(</span><span class="hl-0">transaction</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">factorsResponse</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> ...);</span>
</code><button type="button">Copy</button></pre>

<p>If the request fails, an error object will be returned in the catch in the form
of:</p>
<pre><code class="js"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-8">code</span><span class="hl-1">: </span><span class="hl-0">string</span><br/><span class="hl-1">  </span><span class="hl-8">error</span><span class="hl-1">: </span><span class="hl-0">string</span><br/><span class="hl-1">  </span><span class="hl-8">url</span><span class="hl-1">: </span><span class="hl-0">string</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="reporting-a-transaction-using-the-report-transactions-api" class="tsd-anchor-link">Reporting a transaction using the Report Transactions API<a href="#reporting-a-transaction-using-the-report-transactions-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>MaxMind encourages the use of this API, as data received through this channel
is continually used to improve the accuracy of our fraud detection algorithms.</p>
<p>To use the Report Transactions API, create a new <code>TransactionReport</code> object. A
valid tag and at least one of the following are required parameters:
IP address, maxmind ID, minfraud ID, or transaction ID. Additional key values
may also be set, as documented below.</p>
<p>See the API documentation for more details.</p>
<pre><code class="js"><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">transactionReport</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">TransactionReport</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">ipAddress:</span><span class="hl-1"> </span><span class="hl-5">&#39;81.2.69.160&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">tag:</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-0">Constants</span><span class="hl-1">.</span><span class="hl-0">Tag</span><span class="hl-1">.</span><span class="hl-3">NOT_FRAUD</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-7">// The following key/values are not mandatory but are encouraged</span><br/><span class="hl-1">    </span><span class="hl-0">chargebackCode:</span><span class="hl-1"> </span><span class="hl-5">&#39;the string provided by your payment processor indicatin</span><span class="hl-9">g</span><br/><span class="hl-1">    </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">reason</span><span class="hl-1"> </span><span class="hl-0">for</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">chargeback</span><span class="hl-5">&#39;</span><span class="hl-9">,</span><br/><span class="hl-1">    </span><span class="hl-0">maxmindId</span><span class="hl-1">: </span><span class="hl-5">&#39;12345678&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">minfraudId:</span><span class="hl-1"> </span><span class="hl-5">&#39;58fa38d8-4b87-458b-a22b-f00eda1aa20d&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">notes:</span><span class="hl-1"> </span><span class="hl-5">&#39;some notes&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">transactionId:</span><span class="hl-1"> </span><span class="hl-5">&#39;the transaction ID you originally passed to minFraud&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-0">client</span><span class="hl-1">.</span><span class="hl-4">reportTransaction</span><span class="hl-1">(</span><span class="hl-0">transactionReport</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> ...);</span>
</code><button type="button">Copy</button></pre>

<p>If the request succeeds, no data is returned in the Promise.</p>
<p>If the request fails, an error object will be returned in the catch in the
form of:</p>
<pre><code class="js"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-8">code</span><span class="hl-1">: </span><span class="hl-0">string</span><br/><span class="hl-1">  </span><span class="hl-8">error</span><span class="hl-1">: </span><span class="hl-0">string</span><br/><span class="hl-1">  </span><span class="hl-8">url</span><span class="hl-1">: </span><span class="hl-0">string</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="errors-and-exceptions" class="tsd-anchor-link">Errors and Exceptions<a href="#errors-and-exceptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Thrown by the request and transaction models:</p>
<ul>
<li><code>ArgumentError</code> - Thrown when invalid data is passed to the Transaction
and Transaction property constructors.</li>
</ul>
<p>In addition to the <a href="https://dev.maxmind.com/minfraud/api-documentation/responses?lang=en#errors">response errors</a>
returned by the web API, we also return:</p>
<pre><code class="js"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-8">code</span><span class="hl-1">: </span><span class="hl-5">&#39;SERVER_ERROR&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">error</span><span class="hl-1">: </span><span class="hl-10">&lt;</span><span class="hl-11">string</span><span class="hl-10">&gt;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">{</span><br/><span class="hl-12">  </span><span class="hl-0">code</span><span class="hl-12">: </span><span class="hl-5">&#39;HTTP_STATUS_CODE_ERROR&#39;</span><span class="hl-12">,</span><br/><span class="hl-12">  </span><span class="hl-0">error</span><span class="hl-12">: </span><span class="hl-10">&lt;</span><span class="hl-11">string</span><span class="hl-10">&gt;</span><br/><span class="hl-12">}</span><br/><br/><span class="hl-2">{</span><br/><span class="hl-12">  </span><span class="hl-0">code</span><span class="hl-12">: </span><span class="hl-5">&#39;INVALID_RESPONSE_BODY&#39;</span><span class="hl-12">,</span><br/><span class="hl-12">  </span><span class="hl-0">error</span><span class="hl-12">: </span><span class="hl-10">&lt;</span><span class="hl-11">string</span><span class="hl-10">&gt;</span><br/><span class="hl-12">}</span><br/><br/><span class="hl-2">{</span><br/><span class="hl-12">  </span><span class="hl-0">code</span><span class="hl-12">: </span><span class="hl-5">&#39;NETWORK_TIMEOUT&#39;</span><span class="hl-12">,</span><br/><span class="hl-12">  </span><span class="hl-0">error</span><span class="hl-12">: </span><span class="hl-10">&lt;</span><span class="hl-11">string</span><span class="hl-10">&gt;</span><br/><span class="hl-12">}</span><br/><br/><span class="hl-2">{</span><br/><span class="hl-12">  </span><span class="hl-0">code</span><span class="hl-12">: </span><span class="hl-5">&#39;FETCH_ERROR&#39;</span><span class="hl-12">,</span><br/><span class="hl-12">  </span><span class="hl-0">error</span><span class="hl-12">: </span><span class="hl-10">&lt;</span><span class="hl-11">string</span><span class="hl-10">&gt;</span><br/><span class="hl-12">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="example" class="tsd-anchor-link">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="js"><span class="hl-13">import</span><span class="hl-1"> { </span><span class="hl-0">URL</span><span class="hl-1"> } </span><span class="hl-13">from</span><span class="hl-1"> </span><span class="hl-5">&#39;url&#39;</span><span class="hl-1">; </span><span class="hl-7">// Used for `order.referrerUri</span><br/><span class="hl-13">import</span><span class="hl-1"> </span><span class="hl-2">*</span><span class="hl-1"> </span><span class="hl-13">as</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1"> </span><span class="hl-13">from</span><span class="hl-1"> </span><span class="hl-5">&#39;@maxmind/minfraud-api-node&#39;</span><span class="hl-1">;</span><br/><span class="hl-7">// const minFraud = require(&#39;@maxmind/minfraud-api-node&#39;);</span><br/><br/><span class="hl-7">// client is reusable</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">client</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Client</span><span class="hl-1">(</span><span class="hl-5">&quot;1234&quot;</span><span class="hl-1">, </span><span class="hl-5">&quot;LICENSEKEY&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-0">transaction</span><span class="hl-1">;</span><br/><br/><span class="hl-13">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">transaction</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Transaction</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">device:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">ipAddress:</span><span class="hl-1"> </span><span class="hl-5">&quot;81.2.69.160&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-0">event:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Event</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">party:</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-0">Constants</span><span class="hl-1">.</span><span class="hl-0">EventParty</span><span class="hl-1">.</span><span class="hl-0">Customer</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">shopId:</span><span class="hl-1"> </span><span class="hl-5">&#39;shop&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">time:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Date</span><span class="hl-1">(</span><span class="hl-0">Date</span><span class="hl-1">.</span><span class="hl-4">now</span><span class="hl-1">()),</span><br/><span class="hl-1">      </span><span class="hl-0">transactionId:</span><span class="hl-1"> </span><span class="hl-5">&#39;txn1234&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-0">Constants</span><span class="hl-1">.</span><span class="hl-0">EventType</span><span class="hl-1">.</span><span class="hl-0">PayoutChange</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-0">account:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Account</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">userId:</span><span class="hl-1"> </span><span class="hl-5">&#39;user123&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">username:</span><span class="hl-1"> </span><span class="hl-5">&#39;userperson&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-0">email:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Email</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">address:</span><span class="hl-1"> </span><span class="hl-5">&#39;foo@bar.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">domain:</span><span class="hl-1"> </span><span class="hl-5">&#39;bar.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-0">billing:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Billing</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">address:</span><span class="hl-1"> </span><span class="hl-5">&#39;123 Robot Ave.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">address2:</span><span class="hl-1"> </span><span class="hl-5">&#39;Suite 10011&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">city:</span><span class="hl-1"> </span><span class="hl-5">&#39;Waltham&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">company:</span><span class="hl-1"> </span><span class="hl-5">&#39;Robots Inc.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">country:</span><span class="hl-1"> </span><span class="hl-5">&#39;US&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">firstName:</span><span class="hl-1"> </span><span class="hl-5">&#39;Robot&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">lastName:</span><span class="hl-1"> </span><span class="hl-5">&#39;Bar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">phoneCountryCode:</span><span class="hl-1"> </span><span class="hl-5">&#39;1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">phoneNumber:</span><span class="hl-1"> </span><span class="hl-5">&#39;123-456-1234&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">postal:</span><span class="hl-1"> </span><span class="hl-5">&#39;12345&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">region:</span><span class="hl-1"> </span><span class="hl-5">&#39;MA&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-0">shipping:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Shipping</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">address:</span><span class="hl-1"> </span><span class="hl-5">&#39;123 Robot Ave.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">address2:</span><span class="hl-1"> </span><span class="hl-5">&#39;Suite 10011&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">city:</span><span class="hl-1"> </span><span class="hl-5">&#39;Waltham&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">company:</span><span class="hl-1"> </span><span class="hl-5">&#39;Robots Inc.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">country:</span><span class="hl-1"> </span><span class="hl-5">&#39;US&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">deliverySpeed:</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-0">Constants</span><span class="hl-1">.</span><span class="hl-0">DeliverySpeed</span><span class="hl-1">.</span><span class="hl-0">Expedited</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">firstName:</span><span class="hl-1"> </span><span class="hl-5">&#39;Robot&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">lastName:</span><span class="hl-1"> </span><span class="hl-5">&#39;Bar&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">phoneCountryCode:</span><span class="hl-1"> </span><span class="hl-5">&#39;1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">phoneNumber:</span><span class="hl-1"> </span><span class="hl-5">&#39;123-456-0000&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">postal:</span><span class="hl-1"> </span><span class="hl-5">&#39;12345&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">region:</span><span class="hl-1"> </span><span class="hl-5">&#39;MA&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-0">payment:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Payment</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">declineCode:</span><span class="hl-1"> </span><span class="hl-5">&#39;A&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">method:</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-0">Constants</span><span class="hl-1">.</span><span class="hl-0">PaymentMethod</span><span class="hl-1">.</span><span class="hl-0">Card</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">processor:</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-0">Constants</span><span class="hl-1">.</span><span class="hl-0">Processor</span><span class="hl-1">.</span><span class="hl-0">ConceptPayments</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">wasAuthorized:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-0">creditCard:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">CreditCard</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">avsResult:</span><span class="hl-1"> </span><span class="hl-5">&#39;A&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">bankName:</span><span class="hl-1"> </span><span class="hl-5">&#39;Foo Bank&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">bankPhoneCountryCode:</span><span class="hl-1"> </span><span class="hl-5">&#39;1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">bankPhoneNumber:</span><span class="hl-1"> </span><span class="hl-5">&#39;123-123-1234&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">cvvResult:</span><span class="hl-1"> </span><span class="hl-5">&#39;B&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">issuerIdNumber:</span><span class="hl-1"> </span><span class="hl-5">&#39;411111&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">lastDigits:</span><span class="hl-1"> </span><span class="hl-5">&#39;1234&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">token:</span><span class="hl-1"> </span><span class="hl-5">&#39;a_token&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">was3DSecureSuccessful:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-0">order:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">Order</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-0">affiliateId:</span><span class="hl-1"> </span><span class="hl-5">&#39;robotnet&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">amount:</span><span class="hl-1"> </span><span class="hl-6">22.99</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">currency:</span><span class="hl-1"> </span><span class="hl-5">&#39;USD&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">discountCode:</span><span class="hl-1"> </span><span class="hl-5">&#39;COUPONS&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">hasGiftMessage:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">isGift:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">referrerUri:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">URL</span><span class="hl-1">(</span><span class="hl-5">&#39;https://robots.com/swarms&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-0">subaffiliateId:</span><span class="hl-1"> </span><span class="hl-5">&#39;swarm&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-0">shoppingCart:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">ShoppingCartItem</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-0">category:</span><span class="hl-1"> </span><span class="hl-5">&#39;screws&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">itemId:</span><span class="hl-1"> </span><span class="hl-5">&#39;sc123&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">price:</span><span class="hl-1"> </span><span class="hl-6">9.99</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">quantity:</span><span class="hl-1"> </span><span class="hl-6">100</span><span class="hl-1">,</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">      </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">ShoppingCartItem</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-0">category:</span><span class="hl-1"> </span><span class="hl-5">&#39;screws&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">itemId:</span><span class="hl-1"> </span><span class="hl-5">&#39;sc123&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">price:</span><span class="hl-1"> </span><span class="hl-6">9.99</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">quantity:</span><span class="hl-1"> </span><span class="hl-6">100</span><span class="hl-1">,</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">    </span><span class="hl-0">customInputs:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">CustomInput</span><span class="hl-1">(</span><span class="hl-5">&#39;key&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;value&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">CustomInput</span><span class="hl-1">(</span><span class="hl-5">&#39;key_2&#39;</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">minFraud</span><span class="hl-1">.</span><span class="hl-4">CustomInput</span><span class="hl-1">(</span><span class="hl-5">&#39;key_3&#39;</span><span class="hl-1">, </span><span class="hl-6">100</span><span class="hl-1">),</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">} </span><span class="hl-13">catch</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-7">// handle the error</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">client</span><span class="hl-1">.</span><span class="hl-4">score</span><span class="hl-1">(</span><span class="hl-0">transaction</span><span class="hl-1"> </span><span class="hl-13">as</span><span class="hl-1"> </span><span class="hl-14">minFraud</span><span class="hl-1">.</span><span class="hl-14">Transaction</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">.</span><span class="hl-0">riskScore</span><span class="hl-1">) </span><span class="hl-7">// 50</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">response</span><span class="hl-1">.</span><span class="hl-0">ipAddress</span><span class="hl-1">.</span><span class="hl-0">risk</span><span class="hl-1">) </span><span class="hl-7">// 50</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="support" class="tsd-anchor-link">Support<a href="#support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Please report all issues with this code using the
<a href="https://github.com/maxmind/minfraud-api-node/issues">GitHub issue tracker</a>.</p>
<p>If you are having an issue with the minFraud service that is not specific
to the client API, please see
<a href="https://www.maxmind.com/en/support">our support page</a>.</p>
<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Patches and pull requests are encouraged. Please include unit tests whenever
possible.</p>
<h2 id="versioning" class="tsd-anchor-link">Versioning<a href="#versioning" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This API uses <a href="https://semver.org/">Semantic Versioning</a>.</p>
<h2 id="copyright-and-license" class="tsd-anchor-link">Copyright and License<a href="#copyright-and-license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This software is Copyright (c) 2019-2026 by MaxMind, Inc.</p>
<p>This is free software, licensed under the Apache License, Version 2.0.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#nodejs-api-for-maxmind-minfraud"><span>Node.js <wbr/>API for <wbr/>Max<wbr/>Mind min<wbr/>Fraud</span></a><ul><li><a href="#description"><span>Description</span></a></li><li><a href="#requirements"><span>Requirements</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#api-documentation"><span>API <wbr/>Documentation</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><ul><li><a href="#reporting-a-transaction-using-the-report-transactions-api"><span>Reporting a transaction using the <wbr/>Report <wbr/>Transactions <wbr/>API</span></a></li></ul></li><li><a href="#errors-and-exceptions"><span>Errors and <wbr/>Exceptions</span></a></li><li><a href="#example"><span>Example</span></a></li><li><a href="#support"><span>Support</span></a></li><li><a href="#contributing"><span>Contributing</span></a></li><li><a href="#versioning"><span>Versioning</span></a></li><li><a href="#copyright-and-license"><span>Copyright and <wbr/>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@maxmind/minfraud-api-node</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
